---
layout: default
title: Fitness Titanium Coaches Schedule
---
<div style="text-align:center;">						
        <a href="/{{site.github.repository_name}}">
        <h2>Back</h2>				
    </a>						
</div>

<div id="loader" class="loader" style="display: none;"></div>

<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
        <span class="close">&times;</span>
        <div style=" text-align-last: center; ">
            <div class="imgDiv" style="text-align:center;">
                <img class="imageClass" id="Picture" src=""></img>
            </div>


            <div id="Description" class="main">
            </div>

            <iframe id="Video" width="560" height="315" src="" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>

    </div>

</div>

<div id="content" class="row"></div>

    <script>
        $(document).ajaxStart(function() {
            $("#loader").show();
        });

        $(document).ajaxStop(function() {
            $("#loader").hide();
        });

        var theUrl = "https://script.google.com/macros/s/AKfycbx1KkxeGTRLjobSQb202PM1ecSjD738ixJGMOWhMZD-JUX6-lM8/exec";

        $.ajax({
            type: "GET",
            url: theUrl,
            dataType: "text",
            success: function(response) {
                eval(response);
                var html = '';
                $.each(data, function(index, scheduleEntry) {
                    var dayOfWeek = scheduleEntry[0];
                    html += '<div class="column">';
                    html += '<h5 style="text-align:center;background-color: transparent;">';
                    html += dayOfWeek;
                    html += '</h5>';
                    $.each(scheduleEntry[1], function(index, entry) {
                        var time = entry.Time;
                        var color = entry.Color;
                        var sport = entry.Sport;
                        var name = entry.Name;
                        var encodedDescription = encodeURIComponent(entry.Description);
                        var video = entry.Video;
                        var picture = entry.Picture;


                        var cardClass = 'card';
                        if (index % 2 == 0) {
                            cardClass = 'card-light';
                        }
                        html += '<div class="' + cardClass + ' button" name="' + sport.replace(/\s+/g, '') + '">';
                        html += '<div><b>' + time + '</b></div>';
                        html += '<div>' + sport + '</div>';
                        html += '<div onclick="openModal(event' + ',\'' + video + '\',\'' + picture + '\',\'' + encodedDescription +
                            '\');">';
                        html += name;
                        html += '</div>';
                        html += '</div>';

                    });
                    html += '</div>';
                });

                $('#content').append(html);
                $('a').click(function(event) {
                    event.stopPropagation();
                });

                // Get the container element
                var btnContainer = document.getElementById("content");

                // Get all buttons with class="btn" inside the container
                var btns = btnContainer.getElementsByClassName("button");

                // Loop through the buttons and add the active class to the current/clicked button
                for (var i = 0; i < btns.length; i++) {
                    btns[i].addEventListener("click", function(e) {


                        var shouldDeactivateAll = e.currentTarget.classList.contains("active");

                        // cleanup first
                        var btns = btnContainer.getElementsByClassName("button");
                        for (var i = 0; i < btns.length; i++) {
                            btns[i].classList.remove("active");
                        }

                        if (!shouldDeactivateAll) {
                            // add the new style
                            var x = document.getElementsByName(this.getAttribute("name"));
                            for (var j = 0; j < x.length; j++) {
                                x[j].classList.add("active");
                            }
                        }

                    });
                }


            }
        });
        
            
        function openModal(e, video, picture, description) {
            e.stopPropagation();

            $("#Video").attr("src", video + '?controls=0&amp;start=1');
            $("#Picture").attr("src", picture);
            $("#Description").text(decodeURIComponent(description));

            // Get the modal
            var modal = document.getElementById("myModal");
            modal.style.display = "block";

        }



        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            $("#Video").attr("src", '');
            $("#Picture").attr("src", '');
            $("#Description").text('');
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                $("#Video").attr("src", '');
                $("#Picture").attr("src", '');
                $("#Description").text('');
                modal.style.display = "none";
            }
        }
    </script>
